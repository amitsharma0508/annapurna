{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(cartService, http) {\n    this.cartService = cartService;\n    this.http = http;\n    this.cartItems = [];\n  }\n\n  ngOnInit() {\n    this.fetchCartItems();\n  }\n\n  fetchCartItems() {\n    this.cartService.getCartItems(\"YOp3F6vVpgOJ3eDvLysPoc7lvuA2\").subscribe(items => {\n      this.cartItems = items;\n      console.log(items);\n    });\n  }\n\n  removeFromCart(item) {\n    this.cartService.removeCartItem(item.cartItemId).then(() => {// Item removed from cart successfully\n    }).catch(error => {\n      console.log('Error removing item from cart:', error);\n    });\n  }\n\n  calculateLineTotal(item) {\n    return item.price * item.quantity;\n  }\n\n  calculateSubtotal() {\n    let subtotal = 0;\n\n    for (const item of this.cartItems) {\n      subtotal += this.calculateLineTotal(item);\n    }\n\n    return subtotal;\n  }\n\n  calculateTax() {\n    return this.calculateSubtotal() * 0.05; // Assuming 5% tax rate\n  }\n\n  calculateShipping() {\n    return 15.00; // Replace with your actual shipping cost calculation\n  }\n\n  calculateGrandTotal() {\n    return this.calculateSubtotal() + this.calculateTax() + this.calculateShipping();\n  }\n\n  sendEmail() {\n    const emailEndpoint = 'https://formspree.io/f/xwkjjgdb';\n    const emailData = {\n      productName: this.cartItems['productName'],\n      productDescription: this.cartItems['productDescription'],\n      productPrice: this.cartItems['productPrice']\n    };\n    this.http.post(emailEndpoint, emailData).subscribe(() => {// Email sent successfully\n      // this.contactForm.reset();\n    }, error => {\n      console.error('Error sending email:', error);\n      console.log('Response:', error.error);\n    });\n  }\n\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})], CartComponent);\nexport { CartComponent };","map":null,"metadata":{},"sourceType":"module"}