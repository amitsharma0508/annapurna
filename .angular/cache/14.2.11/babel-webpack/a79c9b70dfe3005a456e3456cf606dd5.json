{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { finalize } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/storage\";\nimport * as i2 from \"src/app/shared/image.service\";\nexport let ElectronicComponent = /*#__PURE__*/(() => {\n  class ElectronicComponent {\n    constructor(storage, service) {\n      this.storage = storage;\n      this.service = service;\n      this.selectedImage = null;\n      this.dryGroceryForm = new FormGroup({\n        productName: new FormControl('', Validators.required),\n        productPrice: new FormControl(''),\n        productDescription: new FormControl('', Validators.required),\n        productType: new FormControl('', Validators.required),\n        imageUrl: new FormControl('', Validators.required)\n      });\n      this.toggleAddForm = false;\n    }\n\n    ngOnInit() {\n      const script1 = document.createElement('script');\n      script1.src = 'assets/img/side-nav-toggle.js';\n      document.head.appendChild(script1);\n      this.resetForm();\n    } //making the adding form visible\n\n\n    openAddForm() {\n      if (this.toggleAddForm == false) {\n        this.toggleAddForm = true;\n      } else {\n        this.toggleAddForm = false;\n      }\n    } //preview image\n\n\n    showPreview(event) {\n      if (event.target.files && event.target.files[0]) {\n        const reader = new FileReader();\n\n        reader.onload = e => this.imgSrc = e.target.result;\n\n        reader.readAsDataURL(event.target.files[0]);\n        this.selectedImage = event.target.files[0];\n      } else {\n        this.imgSrc = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQr1wpLe7tCBNs9lRZIH-8qMa8HI69GZu76QQ&usqp=CAU';\n        this.selectedImage = null;\n      }\n    } //onSubmit\n\n\n    onSubmit(formValue) {\n      this.isSubmitted = true;\n\n      if (this.dryGroceryForm.valid) {\n        var filePath = `${formValue.productType}/${this.selectedImage.name.split('.').slice(0, -1).join('.')}_${new Date().getTime()}`;\n        const fileRef = this.storage.ref(filePath);\n        this.storage.upload(filePath, this.selectedImage).snapshotChanges().pipe(finalize(() => {\n          fileRef.getDownloadURL().subscribe(url => {\n            formValue['imageUrl'] = url;\n            console.log(this.dryGroceryForm.value);\n            console.log(formValue);\n            this.service.insertGroceryDetails(this.dryGroceryForm.value);\n            console.log(formValue);\n            this.resetForm();\n          });\n        })).subscribe();\n      }\n    } //\n\n\n    get formControls() {\n      return this.dryGroceryForm['controls'];\n    } //resetting the form after submit\n\n\n    resetForm() {\n      this.dryGroceryForm.reset();\n      this.dryGroceryForm.setValue({\n        productName: '',\n        productPrice: '',\n        productDescription: '',\n        productType: '',\n        imageUrl: ''\n      });\n      this.imgSrc = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQr1wpLe7tCBNs9lRZIH-8qMa8HI69GZu76QQ&usqp=CAU';\n      this.selectedImage = null;\n      this.isSubmitted = false;\n    }\n\n  }\n\n  ElectronicComponent.ɵfac = function ElectronicComponent_Factory(t) {\n    return new (t || ElectronicComponent)(i0.ɵɵdirectiveInject(i1.AngularFireStorage), i0.ɵɵdirectiveInject(i2.ImageService));\n  };\n\n  ElectronicComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ElectronicComponent,\n    selectors: [[\"app-electronic\"]],\n    decls: 2,\n    vars: 0,\n    template: function ElectronicComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"electronic works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\".group-button[_ngcontent-%COMP%]{font-size:5vmin;padding:.5em 1em;background:#fff;color:#4a5568;border:0px solid #A0AEC0;margin:.1em;transition:background .2s ease,color .2s ease,box-shadow .2s ease,transform .2s ease;box-shadow:0 0 #bee3f8;transform:translateY(0);box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}.group-button[_ngcontent-%COMP%]:first-of-type{border-radius:.5em 0 0 .5em}.group-button[_ngcontent-%COMP%]:last-of-type{border-radius:0 .5em .5em 0}.group-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#a0aec0;margin-right:.3em;font-size:larger;transition:all .2s ease-out}.multi-button[_ngcontent-%COMP%]:hover   .group-button[_ngcontent-%COMP%]{color:#a0aec0}.multi-button[_ngcontent-%COMP%]:hover   .group-button[_ngcontent-%COMP%]:hover{background:#D53F8C;color:#fff;box-shadow:0 0 .8em #d53f8ccc;transform:translateY(-.2em)}.multi-button[_ngcontent-%COMP%]:hover   .group-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#cbd5e0}.multi-button[_ngcontent-%COMP%]:hover   .group-button[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fed7e2;transform:rotate(-10deg)}.wrapper[_ngcontent-%COMP%]{max-width:700px;width:100%;background:#fff;padding:25px 30px;border-radius:5px}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px;font-weight:500;position:relative}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;left:0;bottom:0;height:3px;width:40px;background:linear-gradient(135deg,#71B7E6,#9B59B6)}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:20px 0 12px}form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{margin-bottom:15px;width:calc(50% - 20px)}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px;width:100%}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-weight:500;display:block;margin-bottom:5px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:45px;width:100%;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:16px;border-bottom-width:2px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:valid{border-color:#9b59b6}form[_ngcontent-%COMP%]   .gender-details[_ngcontent-%COMP%]   .gender-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.gender-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:flex;width:80%;margin:14px 0;justify-content:space-between}.gender-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.gender-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:18px;width:18px;border-radius:50%;margin-right:10px;background:#D9D9D9;border:5px solid transparent}#dot-1[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%], #dot-2[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .two[_ngcontent-%COMP%], #dot-3[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .three[_ngcontent-%COMP%]{border-color:#d9d9d9;background:#9B59B6}form[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:45px;margin:45px 0}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;outline:none;border:none;font-size:18px;font-weight:500;cursor:pointer;border-radius:5px;letter-spacing:1px;background:linear-gradient(135deg,#71B7E6,#9B59B6)}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,#71B7E6,#9B59B6)}@media (max-width: 584px){.wrapper[_ngcontent-%COMP%]{max-width:100%}form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{margin-bottom:15px;width:100%}.gender-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}.user-details[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}}\"]\n  });\n  return ElectronicComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}